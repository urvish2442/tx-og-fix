import { PATH_DASHBOARD } from "@/routes/paths";
import Link from "next/link";
import { useRouter } from "next/router";
import React, { useCallback, useEffect, useRef, useState } from "react";

const ExploreButtonHeader = () => {
	const exploreRef = useRef(null);
	const [active, setActive] = useState(false);
	const router = useRouter();

	const clickHandler = useCallback(() => {
		setActive(true);
		window.addEventListener("click", onClick);
	}, []);

	const onClick = useCallback((event) => {
		if (exploreRef.current && !exploreRef.current.contains(event.target)) {
			setActive(false);
			window.removeEventListener("click", onClick);
		}
	}, []);

	useEffect(() => {
		setActive(false);
	}, [router]);

	return (
    <>
      <div className='header-dropdown-block' onClick={clickHandler} ref={exploreRef}>
        <div className='header-dropdown-block-link group'>
          <span>
            <p className="inline-block group-hover:bg-gradient-to-r group-hover:from-[#2BD7EF] group-hover:via-indigo-400 group-hover:to-[#FB4EF1] group-hover:!text-transparent group-hover:bg-clip-text">Explore</p>
            <svg width='11' height='11' viewBox='0 0 11 11' fill='none' xmlns='http://www.w3.org/2000/svg'>
              <g clip-path='url(#clip0_73_3456)'>
                <path
                  d='M5.32212 8.35018C5.1429 8.35018 4.9637 8.28175 4.82706 8.14518L0.527285 3.84536C0.253763 3.57184 0.253763 3.12837 0.527285 2.85496C0.800696 2.58155 1.24408 2.58155 1.51762 2.85496L5.32212 6.65968L9.12663 2.85509C9.40016 2.58168 9.84349 2.58168 10.1169 2.85509C10.3905 3.1285 10.3905 3.57197 10.1169 3.8455L5.81717 8.14531C5.68047 8.28191 5.50127 8.35018 5.32212 8.35018Z'
                  fill='#191820'
                />
              </g>
              <defs>
                <clipPath id='clip0_73_3456'>
                  <rect width='10' height='10' fill='white' transform='translate(0.322144 0.5)' />
                </clipPath>
              </defs>
            </svg>
          </span>
        </div>
        {active && (
          <div className={`header-dropdown-block-dropdown`}>
            <Link href={PATH_DASHBOARD.explore.nfts}>
              <svg width='20' height='21' viewBox='0 0 20 21' fill='none' xmlns='http://www.w3.org/2000/svg'>
                <path
                  d='M7.49992 10.4987C7.94195 10.4987 8.36587 10.3231 8.67843 10.0105C8.99099 9.69798 9.16658 9.27406 9.16658 8.83203C9.16658 8.39 8.99099 7.96608 8.67843 7.65352C8.36587 7.34096 7.94195 7.16536 7.49992 7.16536C7.05789 7.16536 6.63397 7.34096 6.32141 7.65352C6.00885 7.96608 5.83325 8.39 5.83325 8.83203C5.83325 9.27406 6.00885 9.69798 6.32141 10.0105C6.63397 10.3231 7.05789 10.4987 7.49992 10.4987ZM9.99992 1.33203L17.9166 5.91536V15.082L9.99992 19.6654L2.08325 15.082V5.91536L9.99992 1.33203ZM3.74992 6.8762V14.1212L5.72659 15.2654L12.4541 10.332L16.2499 12.6104V6.87703L9.99992 3.25703L3.74992 6.8762Z'
                  fill='black'
                />
              </svg>
              <p>Collectibles</p>
            </Link>
            <Link href={PATH_DASHBOARD.explore.collectionRoot}>
              <svg width='20' height='21' viewBox='0 0 20 21' fill='none' xmlns='http://www.w3.org/2000/svg'>
                <path
                  d='M3.56748 3.15221C3.17104 3.25839 2.7994 3.44162 2.47377 3.69145C2.14815 3.94127 1.87493 4.25279 1.66971 4.60821C1.46448 4.96363 1.33128 5.356 1.27771 5.7629C1.22414 6.16981 1.25125 6.58328 1.35748 6.97971L2.64998 11.8097C2.85387 12.5715 3.33821 13.228 4.00588 13.6476C4.67355 14.0672 5.47517 14.2189 6.24998 14.0722V10.501C6.24998 9.5064 6.64507 8.55257 7.34833 7.84931C8.05159 7.14605 9.00542 6.75096 9.99998 6.75096H12.9425L12.225 4.06846C12.1188 3.67202 11.9356 3.30037 11.6857 2.97475C11.4359 2.64913 11.1244 2.3759 10.769 2.17068C10.4136 1.96546 10.0212 1.83226 9.61429 1.77869C9.20738 1.72512 8.79391 1.75222 8.39748 1.85846L3.56748 3.15096V3.15221ZM7.49998 10.501C7.49998 9.83792 7.76337 9.20203 8.23221 8.73319C8.70106 8.26435 9.33694 8.00096 9.99998 8.00096H16.25C16.913 8.00096 17.5489 8.26435 18.0177 8.73319C18.4866 9.20203 18.75 9.83792 18.75 10.501V16.751C18.75 17.414 18.4866 18.0499 18.0177 18.5187C17.5489 18.9876 16.913 19.251 16.25 19.251H9.99998C9.33694 19.251 8.70106 18.9876 8.23221 18.5187C7.76337 18.0499 7.49998 17.414 7.49998 16.751V10.501ZM13.125 10.501C12.9592 10.501 12.8003 10.5668 12.683 10.684C12.5658 10.8012 12.5 10.9602 12.5 11.126V13.001H10.625C10.4592 13.001 10.3003 13.0668 10.183 13.184C10.0658 13.3012 9.99998 13.4602 9.99998 13.626C9.99998 13.7917 10.0658 13.9507 10.183 14.0679C10.3003 14.1851 10.4592 14.251 10.625 14.251H12.5V16.126C12.5 16.2917 12.5658 16.4507 12.683 16.5679C12.8003 16.6851 12.9592 16.751 13.125 16.751C13.2907 16.751 13.4497 16.6851 13.5669 16.5679C13.6841 16.4507 13.75 16.2917 13.75 16.126V14.251H15.625C15.7907 14.251 15.9497 14.1851 16.0669 14.0679C16.1841 13.9507 16.25 13.7917 16.25 13.626C16.25 13.4602 16.1841 13.3012 16.0669 13.184C15.9497 13.0668 15.7907 13.001 15.625 13.001H13.75V11.126C13.75 10.9602 13.6841 10.8012 13.5669 10.684C13.4497 10.5668 13.2907 10.501 13.125 10.501Z'
                  fill='black'
                />
              </svg>
              <p>Collection</p>
            </Link>
            {/* <Link href="/collectors">
							<svg
								width="20"
								height="21"
								viewBox="0 0 20 21"
								fill="none"
								xmlns="http://www.w3.org/2000/svg"
							>
								<path
									d="M9.99992 10.4987C11.8416 10.4987 13.3333 9.00703 13.3333 7.16536C13.3333 5.3237 11.8416 3.83203 9.99992 3.83203C8.15825 3.83203 6.66659 5.3237 6.66659 7.16536C6.66659 9.00703 8.15825 10.4987 9.99992 10.4987ZM9.99992 12.1654C7.77492 12.1654 3.33325 13.282 3.33325 15.4987V16.332C3.33325 16.7904 3.70825 17.1654 4.16659 17.1654H15.8333C16.2916 17.1654 16.6666 16.7904 16.6666 16.332V15.4987C16.6666 13.282 12.2249 12.1654 9.99992 12.1654Z"
									fill="black"
								/>
							</svg>
							<p>Collectors</p>
						</Link> */}
            <Link href={PATH_DASHBOARD.explore.auctions}>
              <svg width='20' height='21' viewBox='0 0 20 21' fill='none' xmlns='http://www.w3.org/2000/svg'>
                <g clip-path='url(#clip0_599_9677)'>
                  <path
                    d='M2.23832 9.21882C2.0448 9.41228 1.8913 9.64197 1.78657 9.89477C1.68183 10.1476 1.62793 10.4185 1.62793 10.6922C1.62793 10.9658 1.68183 11.2367 1.78657 11.4895C1.8913 11.7423 2.0448 11.972 2.23832 12.1655L4.59582 14.5222C4.93427 14.8606 5.37893 15.0722 5.85504 15.1213C6.33115 15.1705 6.80966 15.0542 7.21011 14.792C7.61055 14.5298 7.90851 14.1378 8.05388 13.6818C8.19925 13.2257 8.18316 12.7335 8.00832 12.288L8.66748 11.6288L14.0067 17.7888C14.216 18.0302 14.4729 18.2258 14.7612 18.3636C15.0495 18.5014 15.363 18.5783 15.6824 18.5896C16.0017 18.6009 16.3199 18.5464 16.6173 18.4294C16.9146 18.3123 17.1846 18.1353 17.4106 17.9094C17.6365 17.6834 17.8135 17.4134 17.9305 17.1161C18.0476 16.8188 18.1021 16.5005 18.0908 16.1812C18.0795 15.8619 18.0026 15.5483 17.8648 15.26C17.727 14.9717 17.5313 14.7149 17.29 14.5055L11.13 9.16632L11.7892 8.50799C12.2349 8.68325 12.7273 8.6996 13.1837 8.55428C13.6401 8.40896 14.0324 8.11084 14.2947 7.71012C14.557 7.30939 14.6732 6.83054 14.6238 6.35416C14.5743 5.87779 14.3623 5.43299 14.0233 5.09465L11.6667 2.73715C11.3282 2.3987 10.8835 2.18712 10.4074 2.13797C9.93132 2.08882 9.45281 2.20511 9.05236 2.46729C8.65192 2.72946 8.35395 3.12153 8.20859 3.57755C8.06322 4.03358 8.07931 4.52576 8.25415 4.97132L4.47332 8.75215C4.09579 8.60394 3.68321 8.56915 3.2862 8.65205C2.88918 8.73495 2.525 8.93192 2.23832 9.21882Z'
                    fill='black'
                  />
                </g>
                <defs>
                  <clipPath id='clip0_599_9677'>
                    <rect width='20' height='20' fill='white' transform='translate(0 0.5)' />
                  </clipPath>
                </defs>
              </svg>

              <p>Auctions</p>
            </Link>
          </div>
        )}
      </div>
    </>
  );
};

export default ExploreButtonHeader;
